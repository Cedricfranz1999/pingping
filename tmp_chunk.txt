  };  const downloadCSV = (csvData: string, filename: string) => {    const blob = new Blob([csvData], { type: "text/csv" });    const url = URL.createObjectURL(blob);    const a = document.createElement("a");    a.href = url;    a.download = filename;    document.body.appendChild(a);    a.click();    document.body.removeChild(a);    URL.revokeObjectURL(url);  };  const handleExportProductsCSV = () => {    exportProductsMutation.mutate(      {        search,        // ⬇️ Removed stockFilter from export args        dateFrom: dateRange.from,        dateTo: dateRange.to,        categoryId: categoryFilter,      } as any,      {        onSuccess: (data: { csv: string; }) => {          downloadCSV(data.csv, `products-export-${format(new Date(), "yyyy-MM-dd")}.csv`);          toast({ title: "Export Successful", description: "Products data has been exported to CSV" });        },        onError: () => {          toast({ title: "Export Failed", description: "Failed to export products data", variant: "destructive" });        },      },    );  };  const handleExportAttendanceCSV = () => {    exportAttendanceMutation.mutate(      {        search: attSearch || undefined,        date: attDateMidday ?? undefined,      } as any,      {        onSuccess: (data: { csv: string; }) => {          downloadCSV(data.csv, `attendance-export-${format(new Date(), "yyyy-MM-dd")}.csv`);          toast({ title: "Export Successful", description: "Attendance has been exported to CSV" });        },        onError: () => {          toast({ title: "Export Failed", description: "Failed to export attendance", variant: "destructive" });        },      },    );  };  const handleExportFeedbackCSV = () => {    exportFeedbackMutation.mutate(      {        search: fbSearch || undefined,        stars: fbStars ?? undefined,        dateFrom: fbDateRange.from,        dateTo: fbDateRange.to,      },      {        onSuccess: (data: { csv: BlobPart; }) => {          const blob = new Blob([data.csv], { type: "text/csv" });          const url = URL.createObjectURL(blob);          const a = document.createElement("a");          a.href = url;          a.download = `feedback-export-${new Date().toISOString().slice(0, 10)}.csv`;          document.body.appendChild(a);          a.click();          a.remove();          URL.revokeObjectURL(url);          toast({ title: "Export Successful", description: "Feedback has been exported to CSV" });        },        onError: () => {          toast({ title: "Export Failed", description: "Failed to export feedback", variant: "destructive" });        },      }    );  };